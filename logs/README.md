# Logs directory - contains runtime logs for all services

This directory contains log files generated by running services:

- `core-engine.log` - Core orchestrator service logs
- `planner-agent.log` - Workflow planner agent logs
- `sop-knowledge.log` - SOP knowledge provider logs
- `error-knowledge.log` - Error knowledge provider logs
- `kql-data-agent.log` - KQL data agent logs
- `spl-data-agent.log` - SPL data agent logs
- `sql-data-agent.log` - SQL data agent logs

## Viewing Logs

**View specific service**:
```powershell
.\scripts\view_logs.ps1 -Service core-engine
```

**Tail logs (follow)**:
```powershell
.\scripts\view_logs.ps1 -Service core-engine -Tail
```

**View last N lines**:
```powershell
.\scripts\view_logs.ps1 -Service core-engine -Lines 100
```

**Clear all logs**:
```powershell
.\scripts\view_logs.ps1 -Clear
```

## Manual Viewing

**PowerShell**:
```powershell
# View entire log
Get-Content logs\core-engine.log

# Tail log (follow)
Get-Content logs\core-engine.log -Wait -Tail 50

# View last 100 lines
Get-Content logs\core-engine.log -Tail 100

# Search logs
Select-String -Path logs\*.log -Pattern "error"
```

## Log Format

Logs are in JSON format for easy parsing:
```json
{
  "event": "processing_query",
  "journey_id": "uuid",
  "platform": "kql",
  "timestamp": "2026-02-05T10:30:00Z",
  "level": "info",
  "logger": "orchestrator"
}
```

## Log Rotation

For production, configure log rotation using:
- Windows: Task Scheduler + PowerShell script
- Linux: logrotate
- Docker: logging drivers with rotation

## Debugging Tips

**Find errors**:
```powershell
Select-String -Path logs\*.log -Pattern "error|exception|failed" | Format-Table -AutoSize
```

**Find by journey ID**:
```powershell
Select-String -Path logs\*.log -Pattern "journey_id.*uuid-here"
```

**Monitor all services**:
```powershell
Get-ChildItem logs\*.log | ForEach-Object {
    Write-Host "`n=== $($_.Name) ===" -ForegroundColor Cyan
    Get-Content $_.FullName -Tail 5
}
```
